(this["webpackJsonpfind-pair"]=this["webpackJsonpfind-pair"]||[]).push([[0],{19:function(e,t,n){e.exports=n.p+"static/media/deck.6c1cbf76.png"},21:function(e,t,n){e.exports=n(39)},26:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(7),c=n.n(a),o=(n(26),n(4)),s=n(2),u=n(8),l=n(9),m=n(12),d=n(10),p=n(13),f=n(5),h=n.n(f),v=(n(34),function(e){return e<10?"0".concat(e):e}),b=function(e){return e&&e<30},O=function(e){var t=e.remainingTime,n=e.isFinish,r=function(e){return{min:v(Math.trunc(e/60)),sec:v(e%60)}}(t);return i.a.createElement("div",{className:h()("timer",{"timer--is-finishing":b(t),"timer--is-finished":n})},i.a.createElement("span",{className:"timer__value"},r.min),i.a.createElement("span",{className:"timer__dots"},":"),i.a.createElement("span",{className:"timer__value"},r.sec))};O.defaultProps={remainingTime:0};var g=O,y="START_TIMER",C="OPEN_CARD",E="CLOSE_CARD",j="HIDE_CARD",k="RECEIVE_CARDS",P=2,_={countPair:18,totalCountCards:18*P,delayClosingPair:1500,delayClosingCard:5e3},T={timer:300,cards:{visibleCounts:_.totalCountCards,total:[],isOpened:[]}},w=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).interval=null,n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.start()}},{key:"componentWillUnmount",value:function(){this.stop()}},{key:"stop",value:function(){this.interval&&clearInterval(this.interval)}},{key:"start",value:function(){var e=this.props.tick;this.interval=setInterval(e,1e3)}},{key:"render",value:function(){var e=this.props,t=e.remainingTime,n=e.isFinish;return n&&this.stop(),i.a.createElement(g,{remainingTime:t,isFinish:n})}}]),t}(i.a.Component),D=Object(s.b)((function(e){return{remainingTime:e.timer}}),(function(e){return{tick:function(){e({type:y})}}}))(w),N=(n(35),n(19)),S=n.n(N),M=function(e){var t=e.onClick,n=e.isClosed,r=e.isHided,a=e.imgSrc,c=n?S.a:"".concat("/myapp","/").concat(a);return i.a.createElement("li",{className:"card"},i.a.createElement("button",{type:"button",onClick:t,className:h()("card__item",{"card__item--is-hided":r}),style:{backgroundImage:"url(".concat(c,")")}}))},F=(n(36),function(e){var t=e.cards,n=e.onClick;return i.a.createElement("ul",{className:"cards"},t.map((function(e){return i.a.createElement(M,{key:e.id,name:e.name,imgSrc:e.imgSrc,isClosed:e.isClosed,isHided:e.isHided,onClick:function(){return n(e)}})})))}),H=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e){var t=n.props,r=t.open;t.isOpened.length!==P&&e.isClosed&&r(e.id,e.name)},n.timer=null,n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isOpened,r=t.hide;if(this.stopTimout(),e.isOpened.length!==n.length){var i=n.length===P,a=i?_.delayClosingPair:_.delayClosingCard;this.closeCards(a),i&&this.isMatchingCards()&&r()}}},{key:"componentWillUnmount",value:function(){this.stopTimout()}},{key:"stopTimout",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"closeCards",value:function(e){var t=this.props.close;this.timer=setTimeout(t,e)}},{key:"isMatchingCards",value:function(){var e=this.props.isOpened,t=[e[0],e[1]],n=t[0],r=t[1];return n.name.number===r.name.number&&n.name.suit===r.name.suit}},{key:"render",value:function(){var e=this.props.cards;return i.a.createElement(F,{cards:e,onClick:this.handleClick})}}]),t}(i.a.Component),I=Object(s.b)((function(e){return{cards:e.cards.total,isOpened:e.cards.isOpened}}),(function(e){return{open:function(t,n){return e(function(e,t){return{type:C,id:e,name:t}}(t,n))},close:function(){return e({type:E})},hide:function(){return e({type:j})}}}))(H),R=n(20),A=(n(37),function(e){var t=e.children,n=e.title,r=e.open,a=void 0!==r&&r;return i.a.createElement(R.a,{open:a,modal:!0},(function(e){return i.a.createElement("div",{className:"modal"},i.a.createElement("button",{type:"button",className:"modal__close",onClick:e},"\xd7"),i.a.createElement("div",{className:"modal__header"},n),i.a.createElement("div",{className:"modal__content"},t))}))}),x=(n(38),function(e){var t=e.remainingTime,n=e.visibleCounts,r=e.isOpen,a=t&&!n;return i.a.createElement(A,{open:r,title:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0438\u0433\u0440\u044b:"},i.a.createElement("p",{className:h()("result",{"result--is-loser":!a})},a?"\u0423\u0440\u0430! \u0412\u044b \u0432\u044b\u0438\u0433\u0440\u0430\u043b\u0438! \ud83c\udf89":"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u0432\u044b \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b\u0438, \u0412\u0430\u043c \u043d\u0435 \u0445\u0432\u0430\u0442\u0438\u043b\u043e \u0432\u0440\u0435\u043c\u044f \ud83d\ude1f \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437!"))}),U=function(){return i.a.createElement("header",null,i.a.createElement("h1",null,"\u041d\u0430\u0439\u0434\u0438 \u043f\u0430\u0440\u0443"))},J=Object(s.b)((function(e){return{remainingTime:e.timer,visibleCounts:e.cards.visibleCounts,isFinish:!e.timer||!e.cards.visibleCounts}}),null)((function(e){var t=e.remainingTime,n=e.visibleCounts,r=e.isFinish;return i.a.createElement(i.a.Fragment,null,i.a.createElement(U,null),i.a.createElement(D,{isFinish:r}),r?i.a.createElement(x,{remainingTime:t,visibleCounts:n,isOpen:!0}):i.a.createElement(I,null))})),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.timer,t=arguments.length>1?arguments[1]:void 0;return t.type===y?e-1:e},q=n(6),B=n(11);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach((function(t){Object(B.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.cards,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return V({},e,{isOpened:[].concat(Object(q.a)(e.isOpened),Object(q.a)(e.total.filter((function(e){return e.id===t.id})).map((function(e){return{id:e.id,name:e.name}})))),total:e.total.map((function(e){return e.id===t.id?V({},e,{isClosed:!1}):e}))});case E:return V({},e,{isOpened:[],total:e.total.map((function(e){return e.isClosed?e:V({},e,{isClosed:!0})}))});case j:return V({},e,{isOpened:[],visibleCounts:e.visibleCounts-P,total:e.total.map((function(e){return e.isHided||e.isClosed?e:V({},e,{isHided:!0})}))});case k:return V({},e,{total:t.cards.map((function(e){return V({},e,{isClosed:!0,isHided:!1})}))});default:return e}},G=Object(o.b)({timer:W,cards:z});function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Q=["ace","king","queen","jack","ten","nine","eight","seven","six"],X=["heart","diamond","spades","club"],Y=function(){var e=function(){var e=[];return X.forEach((function(t){return Q.forEach((function(n){return e.push({imgSrc:"media/cards/".concat(n,"_").concat(t,".png"),name:{number:n,suit:t}})})),e})),e}();if(e.length<_.countPair)return[];var t=function(e){for(var t=[];t.length<_.countPair;){var n=e[Math.floor(Math.random()*e.length)];t.includes(n)||t.push(n)}return t}(e);return function(e){return e.sort((function(){return Math.random()-.5}))}([].concat(Object(q.a)(t),Object(q.a)(t))).map((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach((function(t){Object(B.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{id:t})}))},Z=Object(o.c)(G),$=Y();Z.dispatch({type:k,cards:$});var ee=function(){return i.a.createElement("main",null,i.a.createElement(s.a,{store:Z},i.a.createElement(J,null)))};c.a.render(i.a.createElement(ee,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.f2a75239.chunk.js.map