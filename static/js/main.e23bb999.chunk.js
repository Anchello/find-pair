(this["webpackJsonpfind-pair"]=this["webpackJsonpfind-pair"]||[]).push([[0],{20:function(e,t,n){e.exports=n(36)},25:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),c=n.n(r),s=(n(25),n(5)),o=n(3),l=n(9),u=n(10),m=n(12),d=n(11),p=n(13),f=n(6),h=n.n(f),v=(n(31),function(e){return e<10?"0".concat(e):e}),b=function(e){return e&&e<30},C=function(e){var t=e.remainingTime,n=e.isFinish,a=function(e){return{min:v(Math.trunc(e/60)),sec:v(e%60)}}(t);return i.a.createElement("div",{className:h()("timer",{"timer--is-finishing":b(t),"timer--is-finished":n})},i.a.createElement("span",{className:"timer__value"},a.min),i.a.createElement("span",{className:"timer__dots"},":"),i.a.createElement("span",{className:"timer__value"},a.sec))};C.defaultProps={remainingTime:0};var O=C,E="START_TIMER",g="OPEN_CARD",j="CLOSE_CARD",y="HIDE_CARD",k="RECEIVE_CARDS",_={countPair:18,totalCountCards:36,delayClosingPair:1500,delayClosingCard:5e3},T={timer:300,cards:{visibleCounts:_.totalCountCards,total:[],isOpened:[]}},N=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).interval=null,n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.start()}},{key:"componentWillUnmount",value:function(){this.stop()}},{key:"stop",value:function(){this.interval&&clearInterval(this.interval)}},{key:"start",value:function(){var e=this.props.tick;this.interval=setInterval(e,1e3)}},{key:"render",value:function(){var e=this.props,t=e.remainingTime,n=e.isFinish;return n&&this.stop(),i.a.createElement(O,{remainingTime:t,isFinish:n})}}]),t}(i.a.Component),F=Object(o.b)((function(e){return{remainingTime:e.timer}}),(function(e){return{tick:function(){e({type:E})}}}))(N),M=(n(32),function(e){var t=e.onClick,n=e.isClosed,a=e.isHidden,r=e.imgSrc;return i.a.createElement("li",{className:h()("card",{"card--is-hidden":a,"card--is-opened":!n})},i.a.createElement("button",{type:"button",onClick:t,className:"card__item card__item--back"}),i.a.createElement("button",{type:"button",onClick:t,className:"card__item card__item--front",style:{backgroundImage:"url(".concat("/find-pair","/").concat(r,")")}}))}),P=(n(33),function(e){var t=e.cards,n=e.onClick;return i.a.createElement("ul",{className:"cards"},t.map((function(e){return i.a.createElement(M,{key:e.id,name:e.name,imgSrc:e.imgSrc,isClosed:e.isClosed,isHidden:e.isHidden,onClick:function(){return n(e)}})})))}),S=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e){var t=n.props,a=t.open;2!==t.isOpened.length&&e.isClosed&&a(e.id,e.name)},n.timer=null,n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isOpened,a=t.hide;if(this.stopTimout(),e.isOpened.length!==n.length){var i=2===n.length,r=i?_.delayClosingPair:_.delayClosingCard;this.closeCards(r),i&&this.isMatchingCards()&&a()}}},{key:"componentWillUnmount",value:function(){this.stopTimout()}},{key:"stopTimout",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"closeCards",value:function(e){var t=this.props.close;this.timer=setTimeout(t,e)}},{key:"isMatchingCards",value:function(){var e=this.props.isOpened,t=[e[0],e[1]],n=t[0],a=t[1];return n.name.number===a.name.number&&n.name.suit===a.name.suit}},{key:"render",value:function(){var e=this.props.cards;return i.a.createElement(P,{cards:e,onClick:this.handleClick})}}]),t}(i.a.Component),D=Object(o.b)((function(e){return{cards:e.cards.total,isOpened:e.cards.isOpened}}),(function(e){return{open:function(t,n){return e(function(e,t){return{type:g,id:e,name:t}}(t,n))},close:function(){return e({type:j})},hide:function(){return e({type:y})}}}))(S),H=n(19),I=(n(34),function(e){var t=e.children,n=e.title,r=e.open,c=Object(a.useState)(r),s=Object(H.a)(c,2),o=s[0],l=s[1],u=Object(a.useCallback)((function(){l(!o)}),[o]);return o?i.a.createElement("div",{className:"modal-wrapper"},i.a.createElement("div",{className:"modal"},i.a.createElement("button",{type:"button",className:"modal__close",onClick:u},i.a.createElement("span",{className:"modal__close-line"}),i.a.createElement("span",{className:"modal__close-line"})),n&&i.a.createElement("div",{className:"modal__header"},n),i.a.createElement("div",{className:"modal__content"},t))):null});I.defaultProps={title:""};var R=I,w=(n(35),function(e){var t=e.remainingTime,n=e.visibleCounts,a=e.isOpen,r=t&&!n;return i.a.createElement(R,{open:a},i.a.createElement("p",{className:h()("result",{"result--is-loser":!r})},r?"Yeah! You won! \ud83c\udf89":"Unfortunately you lost, you didn't have enough time \ud83d\ude1f Try again!"))}),A=Object(o.b)((function(e){return{remainingTime:e.timer,visibleCounts:e.cards.visibleCounts,isFinish:!e.timer||!e.cards.visibleCounts}}),null)((function(e){var t=e.remainingTime,n=e.visibleCounts,a=e.isFinish;return i.a.createElement(i.a.Fragment,null,i.a.createElement(F,{isFinish:a}),a?i.a.createElement(w,{remainingTime:t,visibleCounts:n,isOpen:!0}):i.a.createElement(D,null))})),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.timer,t=arguments.length>1?arguments[1]:void 0;return t.type===E?e-1:e},x=n(7),J=n(1),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.cards,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(J.a)({},e,{isOpened:[].concat(Object(x.a)(e.isOpened),Object(x.a)(e.total.filter((function(e){return e.id===t.id})).map((function(e){return{id:e.id,name:e.name}})))),total:e.total.map((function(e){return e.id===t.id?Object(J.a)({},e,{isClosed:!1}):e}))});case j:return Object(J.a)({},e,{isOpened:[],total:e.total.map((function(e){return e.isClosed?e:Object(J.a)({},e,{isClosed:!0})}))});case y:return Object(J.a)({},e,{isOpened:[],visibleCounts:e.visibleCounts-2,total:e.total.map((function(e){return e.isHidden||e.isClosed?e:Object(J.a)({},e,{isHidden:!0})}))});case k:return Object(J.a)({},e,{total:t.cards.map((function(e){return Object(J.a)({},e,{isClosed:!0,isHidden:!1})}))});default:return e}},Y=Object(s.b)({timer:U,cards:W}),q=["ace","king","queen","jack","ten","nine","eight","seven","six"],B=["heart","diamond","spades","club"],L=function(){var e=function(){var e=[];return B.forEach((function(t){return q.forEach((function(n){return e.push({imgSrc:"media/cards/".concat(n,"_").concat(t,".png"),name:{number:n,suit:t}})})),e})),e}();if(e.length<_.countPair)return[];var t=function(e){for(var t=[];t.length<_.countPair;){var n=e[Math.floor(Math.random()*e.length)];t.includes(n)||t.push(n)}return t}(e);return function(e){return e.sort((function(){return Math.random()-.5}))}([].concat(Object(x.a)(t),Object(x.a)(t))).map((function(e,t){return Object(J.a)({},e,{id:t})}))},V=function(){return i.a.createElement("header",null,i.a.createElement("h1",null,"Find a pair"))},z=Object(s.c)(Y),G=L();z.dispatch({type:k,cards:G});var K=function(){return i.a.createElement("main",null,i.a.createElement(o.a,{store:z},i.a.createElement(V,null),i.a.createElement(A,null)))};c.a.render(i.a.createElement(K,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.e23bb999.chunk.js.map